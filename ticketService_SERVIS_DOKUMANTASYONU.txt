================================================================================
TICKET SERVICE SERVİSİ - CLASS VE METOD DOKÜMANTASYONU
================================================================================

Bu servis, bilet yönetimi, stok yönetimi ve koltuk kilitleme işlemlerini yapar.

--------------------------------------------------------------------------------
1. TicketServiceApplication
--------------------------------------------------------------------------------
AÇIKLAMA: Spring Boot uygulamasının ana başlangıç sınıfıdır.
İŞLEVİ: 
  - Uygulamayı başlatır
  - Feign Client desteğini aktif eder
  - Scheduling desteğini aktif eder (lock timeout için)

METODLAR:
  - main(String[] args): Uygulamayı başlatır

NOTLAR:
  - Port: 8086
  - @EnableFeignClients: Feign Client kullanımını aktif eder
  - @EnableScheduling: Scheduled task'lar için gerekli

--------------------------------------------------------------------------------
2. TicketController
--------------------------------------------------------------------------------
AÇIKLAMA: Ticket ile ilgili HTTP endpoint'lerini sağlar.

METODLAR:
  - purchaseTickets(TicketPurchaseReq request): 
      * Biletleri satın alır (POST /tickets/purchase)
      * Ticket entity'lerini oluşturur
      * Stok güncellemesi yapar
  
  - getTicketById(String id): 
      * ID'ye göre bilet getirir (GET /tickets/{id})
  
  - getTicketsByEvent(String eventId): 
      * Event'e göre biletleri getirir (GET /tickets/by-event/{eventId})
  
  - getTicketsByUser(String userId): 
      * Kullanıcıya göre biletleri getirir (GET /tickets/by-user/{userId})
  
  - useTicket(String id, String usedBy): 
      * Bileti kullanır (POST /tickets/{id}/use)
      * Status'ü USED yapar
  
  - refundTicket(String id, String refundedBy, String reason): 
      * Bileti iade eder (POST /tickets/{id}/refund)
      * Status'ü REFUNDED yapar
      * Stoku geri ekler
  
  - getHistory(String id): 
      * Bilet geçmişini getirir (GET /tickets/{id}/history)

--------------------------------------------------------------------------------
3. TicketStockController
--------------------------------------------------------------------------------
AÇIKLAMA: Ticket Stock ile ilgili HTTP endpoint'lerini sağlar.

METODLAR:
  - getStockById(String id): 
      * ID'ye göre stok getirir (GET /ticket-stocks/{id})
  
  - getStocksByEvent(String eventId): 
      * Event'e göre stokları getirir (GET /ticket-stocks/by-event/{eventId})
  
  - getStockByEventAndPriceCategory(String eventId, String priceCategoryId): 
      * Event ve fiyat kategorisine göre stok getirir
  
  - lockTickets(String id, int count, String orderId, List<String> seatLabels): 
      * Biletleri kilitler (PATCH /ticket-stocks/{id}/lock)
      * Redis ve DB'de kilitleme yapar
  
  - unlockTickets(String id, int count, String orderId): 
      * Bilet kilidini açar (PATCH /ticket-stocks/{id}/unlock)
  
  - confirmSale(String id, int count, String orderId): 
      * Satışı onaylar (PATCH /ticket-stocks/{id}/confirm-sale)
      * Locked count'u azaltır, sold count'u artırır
  
  - getRedisLockedCount(String id): 
      * Redis'teki kilitli bilet sayısını getirir (GET /ticket-stocks/{id}/redis-locked-count)

--------------------------------------------------------------------------------
4. TicketService (Interface)
--------------------------------------------------------------------------------
AÇIKLAMA: Ticket işlemleri için servis arayüzü

METODLAR:
  - purchaseTickets(TicketPurchaseReq request): Bilet satın alma
  - getTicketById(String id): ID'ye göre bilet getirme
  - getTicketsByEventId(String eventId): Event'e göre biletleri getirme
  - getTicketsByUserId(String userId): Kullanıcıya göre biletleri getirme
  - useTicket(String ticketId, String usedBy): Bileti kullanma
  - refundTicket(String ticketId, String refundedBy, String reason): Bileti iade etme
  - getTicketHistory(String ticketId): Bilet geçmişini getirme

--------------------------------------------------------------------------------
5. TicketServiceImpl
--------------------------------------------------------------------------------
AÇIKLAMA: TicketService implementasyonu

METODLAR:
  - purchaseTickets(TicketPurchaseReq request): 
      * Stok kontrolü yapar (pessimistic lock ile)
      * Stok yeterli değilse exception fırlatır
      * Stoktan availableCount'u azaltır, soldCount'u artırır
      * Ticket entity'lerini oluşturur (her biri için QR kod üretir)
      * TicketHistory kaydı oluşturur
  
  - getTicketById(String id): 
      * ID'ye göre bilet bulur ve TicketRes DTO'suna dönüştürür
  
  - getTicketsByEventId(String eventId): 
      * Event'e göre biletleri getirir
  
  - getTicketsByUserId(String userId): 
      * Kullanıcıya göre biletleri getirir
  
  - useTicket(String ticketId, String usedBy): 
      * Biletin SOLD durumunda olduğunu kontrol eder
      * Status'ü USED yapar
      * usedAt tarihini set eder
      * TicketHistory kaydı oluşturur
  
  - refundTicket(String ticketId, String refundedBy, String reason): 
      * Biletin USED veya REFUNDED olmadığını kontrol eder
      * Status'ü REFUNDED yapar
      * Stoku geri ekler (availableCount++, soldCount--)
      * TicketHistory kaydı oluşturur
  
  - getTicketHistory(String ticketId): 
      * TicketHistoryService üzerinden geçmişi getirir
  
  - generateQRCode(): 
      * Rastgele QR kod üretir (UUID tabanlı)
  
  - mapToTicketRes(Ticket ticket): 
      * Ticket entity'sini TicketRes DTO'suna dönüştürür

--------------------------------------------------------------------------------
6. TicketStockService (Interface)
--------------------------------------------------------------------------------
AÇIKLAMA: Ticket Stock işlemleri için servis arayüzü

METODLAR:
  - createTicketStockForEvent(String eventId, String venueId, List<PriceCategoryDetail> priceCategories): 
      * Event için bilet stoku oluşturur
  - getStockById(String stockId): ID'ye göre stok getirme
  - getStocksByEventId(String eventId): Event'e göre stokları getirme
  - getStockByEventAndPriceCategory(String eventId, String priceCategoryId): 
      * Event ve fiyat kategorisine göre stok getirme
  - lockTickets(String stockId, int count, String orderId, List<String> seatLabels): Biletleri kilitleme
  - confirmSale(String stockId, int count, String orderId): Satışı onaylama
  - unlockTickets(String stockId, int count, String orderId): Bilet kilidini açma
  - getRedisLockedCount(String stockId): Redis'teki kilitli sayıyı getirme
  - save(TicketStock stock): Stok kaydetme

--------------------------------------------------------------------------------
7. TicketStockServiceImpl
--------------------------------------------------------------------------------
AÇIKLAMA: TicketStockService implementasyonu

METODLAR:
  - createTicketStockForEvent(String eventId, String venueId, List<PriceCategoryDetail> priceCategories): 
      * Her price category için TicketStock oluşturur
      * totalAllocation kadar availableCount set eder
      * Zaten varsa atlar
  
  - getStockById(String stockId): 
      * ID'ye göre stok bulur
  
  - getStocksByEventId(String eventId): 
      * Event'e göre tüm stokları getirir
  
  - getStockByEventAndPriceCategory(String eventId, String priceCategoryId): 
      * Event ve fiyat kategorisine göre stok bulur
  
  - lockTickets(String stockId, int count, String orderId, List<String> seatLabels): 
      * Pessimistic lock ile stok bilgisini alır
      * Stok kontrolü yapar
      * Redis'te koltuk kilitleme yapar (SeatLockService)
      * DB'de availableCount'u azaltır, lockedCount'u artırır
  
  - confirmSale(String stockId, int count, String orderId): 
      * Pessimistic lock ile stok bilgisini alır
      * Redis'teki kilidi temizler
      * DB'de lockedCount'u azaltır, soldCount'u artırır
  
  - unlockTickets(String stockId, int count, String orderId): 
      * Pessimistic lock ile stok bilgisini alır
      * Redis'teki kilidi temizler
      * DB'de lockedCount'u azaltır, availableCount'u artırır
  
  - getRedisLockedCount(String stockId): 
      * SeatLockService üzerinden Redis'teki kilitli sayıyı getirir
  
  - save(TicketStock stock): 
      * Stok kaydeder

--------------------------------------------------------------------------------
8. SeatLockService (Interface)
--------------------------------------------------------------------------------
AÇIKLAMA: Koltuk kilitleme işlemleri için servis arayüzü
İŞLEVİ: Redis üzerinde koltuk kilitleme yönetimi

METODLAR:
  - lockSeats(String stockId, List<String> seatLabels, String orderId): 
      * Belirli koltukları kilitler
      * Her koltuk için distributed lock kullanır
      * Lua script ile atomik işlem yapar
  
  - lockGenericSeats(String stockId, int count, String orderId, int totalCount): 
      * Genel (numarasız) koltukları kilitler
      * Kapasite kontrolü yapar
  
  - confirmGenericSale(String stockId, int count, String orderId): 
      * Generic satışı onaylar
      * Redis kilidini temizler
  
  - unlockGenericSeats(String stockId, int count, String orderId): 
      * Generic koltuk kilidini açar
  
  - unlockSeats(String stockId, List<String> seatLabels, String orderId): 
      * Belirli koltukların kilidini açar
  
  - isLocked(String stockId, String seatLabel): 
      * Koltuk kilitli mi kontrol eder
  
  - getLockedSeats(String stockId): 
      * Tüm kilitli koltukları getirir (Map<seatLabel, orderId>)
  
  - getLockedCount(String stockId): 
      * Toplam kilitli koltuk sayısını getirir
  
  - getLockedCountForOrder(String stockId, String orderId): 
      * Belirli bir sipariş için kilitli koltuk sayısını getirir

--------------------------------------------------------------------------------
9. SeatLockServiceImpl
--------------------------------------------------------------------------------
AÇIKLAMA: SeatLockService implementasyonu
İŞLEVİ: Redis ve Redisson kullanarak koltuk kilitleme yapar

METODLAR:
  - lockSeats(String stockId, List<String> seatLabels, String orderId): 
      * Her koltuk için distributed lock alır
      * Lua script ile atomik kilitleme yapar
      * Key pattern: "seat:lock:{stockId}:{seatLabel}"
      * TTL: 5 dakika (configurable)
  
  - lockGenericSeats(String stockId, int count, String orderId, int totalCount): 
      * Distributed lock ile generic kilitleme yapar
      * Lua script ile kapasite kontrolü yapar
      * Key pattern: "seat:generic:{stockId}:{orderId}"
  
  - confirmGenericSale(String stockId, int count, String orderId): 
      * Generic kilidi temizler
      * Total lock count'u azaltır
  
  - unlockGenericSeats(String stockId, int count, String orderId): 
      * Generic kilidi temizler
      * Total lock count'u azaltır
  
  - unlockSeats(String stockId, List<String> seatLabels, String orderId): 
      * Her koltuk için distributed lock alır
      * Lua script ile kilidi açar
  
  - isLocked(String stockId, String seatLabel): 
      * Redis'ten koltuk kilidini kontrol eder
  
  - getLockedSeats(String stockId): 
      * Pattern ile tüm kilitli koltukları bulur
  
  - getLockedCount(String stockId): 
      * Total lock count'u Redis'ten getirir
  
  - getLockedCountForOrder(String stockId, String orderId): 
      * Generic lock veya numaralı koltukları sayar
  
  - incrementTotalLock(String stockId, int count): 
      * Total lock count'u artırır
  
  - decrementTotalLock(String stockId, int count): 
      * Total lock count'u azaltır

REDIS KEY PATTERN'LERİ:
  - seat:lock:{stockId}:{seatLabel}: Numaralı koltuk kilidi
  - seat:generic:{stockId}:{orderId}: Generic koltuk kilidi
  - seat:total:{stockId}: Toplam kilitli sayı
  - lock:seat:{stockId}:{seatLabel}: Distributed lock key

LUA SCRIPT'LER:
  - LOCK_SEAT_LUA_SCRIPT: Koltuk kilitleme (atomik)
  - UNLOCK_SEAT_LUA_SCRIPT: Koltuk kilidini açma (atomik)
  - LOCK_GENERIC_LUA_SCRIPT: Generic kilitleme (kapasite kontrolü ile)

--------------------------------------------------------------------------------
10. DistributedLockService (Interface)
--------------------------------------------------------------------------------
AÇIKLAMA: Dağıtık kilitleme için servis arayüzü
İŞLEVİ: Redisson kullanarak distributed lock yönetimi

METODLAR:
  - tryLock(String lockKey, long waitTime, long leaseTime, TimeUnit timeUnit): 
      * Lock almaya çalışır
      * waitTime kadar bekler
      * leaseTime kadar tutar
  
  - unlock(String lockKey): 
      * Lock'u serbest bırakır
  
  - isLocked(String lockKey): 
      * Lock kilitli mi kontrol eder
  
  - executeWithLock(String lockKey, long waitTime, long leaseTime, TimeUnit timeUnit, Supplier<T> action): 
      * Lock alır, action'ı çalıştırır, lock'u serbest bırakır
  
  - executeWithLock(String lockKey, Supplier<T> action): 
      * Varsayılan parametrelerle lock alır ve action çalıştırır
  
  - executeWithFairLock(String lockKey, long waitTime, long leaseTime, TimeUnit timeUnit, Supplier<T> action): 
      * FIFO sırasıyla lock alır (fair lock)
  
  - createSeatLockKey(String eventId, String seatLabel): 
      * Koltuk kilidi için key oluşturur
  
  - createStockLockKey(String stockId): 
      * Stok kilidi için key oluşturur
  
  - createOrderLockKey(String orderId): 
      * Sipariş kilidi için key oluşturur

--------------------------------------------------------------------------------
11. DistributedLockServiceImpl
--------------------------------------------------------------------------------
AÇIKLAMA: DistributedLockService implementasyonu
İŞLEVİ: Redisson Client kullanarak distributed lock yönetimi

METODLAR:
  - tryLock(String lockKey, long waitTime, long leaseTime, TimeUnit timeUnit): 
      * Redisson lock alır
      * waitTime kadar bekler
      * leaseTime kadar tutar
  
  - unlock(String lockKey): 
      * Lock'u serbest bırakır
      * Sadece mevcut thread'in lock'u varsa açar
  
  - isLocked(String lockKey): 
      * Lock durumunu kontrol eder
  
  - executeWithLock(String lockKey, long waitTime, long leaseTime, TimeUnit timeUnit, Supplier<T> action): 
      * Lock alır, action çalıştırır, finally'de lock'u açar
  
  - executeWithLock(String lockKey, Supplier<T> action): 
      * Varsayılan parametrelerle (10s wait, 30s lease) çalışır
  
  - executeWithFairLock(String lockKey, long waitTime, long leaseTime, TimeUnit timeUnit, Supplier<T> action): 
      * Fair lock kullanır (FIFO sırası)
  
  - executeWithMultiLock(String[] lockKeys, ...): 
      * Birden fazla lock'u aynı anda alır (multi-lock)
  
  - getLockInfo(String lockKey): 
      * Lock bilgilerini string olarak döner

VARSAYILAN DEĞERLER:
  - DEFAULT_WAIT_TIME: 10 saniye
  - DEFAULT_LEASE_TIME: 30 saniye

--------------------------------------------------------------------------------
12. EventCreatedConsumer
--------------------------------------------------------------------------------
AÇIKLAMA: Kafka'dan EVENT_CREATED event'ini dinleyen consumer
İŞLEVİ: Event oluşturulduğunda bilet stoku oluşturur

METODLAR:
  - consumeEventCreated(String message): 
      * Kafka topic: "event-events"
      * Group ID: "ticket-service-group"
      * EVENT_CREATED event'ini dinler
      * TicketStockService.createTicketStockForEvent() çağırır

RECORD'LAR:
  - PriceCategoryDetail: Fiyat kategorisi detayı
  - EventCreatedEvent: Event oluşturma event'i

--------------------------------------------------------------------------------
13. PaymentEventConsumer
--------------------------------------------------------------------------------
AÇIKLAMA: Kafka'dan payment event'lerini dinleyen consumer
İŞLEVİ: Ödeme başarılı/başarısız durumlarını işler

METODLAR:
  - consumePaymentEvent(String message): 
      * Kafka topic: "payment-events"
      * Group ID: "ticket-service-group"
      * PAYMENT_SUCCESS veya PAYMENT_FAILED event'ini dinler
      * PaymentEventHandlerService'i çağırır

RECORD'LAR:
  - PaymentEvent: Ödeme event'i

--------------------------------------------------------------------------------
14. PaymentEventHandlerService (Interface)
--------------------------------------------------------------------------------
AÇIKLAMA: Payment event'lerini işleyen servis arayüzü

METODLAR:
  - handlePaymentSuccess(String orderId): Ödeme başarılı durumunu işler
  - handlePaymentFailed(String orderId): Ödeme başarısız durumunu işler

--------------------------------------------------------------------------------
15. PaymentEventHandlerServiceImpl
--------------------------------------------------------------------------------
AÇIKLAMA: PaymentEventHandlerService implementasyonu

METODLAR:
  - handlePaymentSuccess(String orderId): 
      * Ödeme başarılı durumunu loglar
      * Biletler zaten purchaseTickets API'si ile oluşturulmuştur
  
  - handlePaymentFailed(String orderId): 
      * Ödeme başarısız durumunu loglar
      * Stok kilidi OrderService tarafından açılmalıdır
  
  - handleOrderCancelled(String eventId, String priceCategoryId, int count): 
      * İptal edilen sipariş için stoku geri ekler

--------------------------------------------------------------------------------
16. LockTimeoutScheduler
--------------------------------------------------------------------------------
AÇIKLAMA: Kilit timeout'larını kontrol eden scheduler
İŞLEVİ: 
  - Redis'teki kilitlerin TTL'i dolduğunda DB'yi senkronize eder

METODLAR:
  - syncLockedCountsWithRedis(): 
      * Her 1 dakikada bir çalışır (@Scheduled)
      * DB'de lockedCount > 0 olan stokları bulur
      * Redis'teki kilitli sayı ile karşılaştırır
      * Redis'teki sayı daha azsa (TTL dolmuş), DB'yi günceller
      * Expired lock'ları availableCount'a geri ekler

--------------------------------------------------------------------------------
17. TicketHistoryService (Interface)
--------------------------------------------------------------------------------
AÇIKLAMA: Bilet geçmişi işlemleri için servis arayüzü

METODLAR:
  - recordStatusChange(Ticket ticket, TicketStatus previousStatus, TicketStatus newStatus, String changedBy, String reason): 
      * Bilet durum değişikliğini kaydeder
  
  - getHistoryByTicketId(String ticketId): 
      * Bilet geçmişini getirir

--------------------------------------------------------------------------------
18. TicketHistoryServiceImpl
--------------------------------------------------------------------------------
AÇIKLAMA: TicketHistoryService implementasyonu

METODLAR:
  - recordStatusChange(...): 
      * TicketHistory entity'si oluşturur ve kaydeder
  
  - getHistoryByTicketId(String ticketId): 
      * TicketHistory kayıtlarını tarih sırasına göre getirir
      * TicketHistoryRes DTO'suna dönüştürür
  
  - mapToTicketHistoryRes(TicketHistory history): 
      * Entity'den DTO'ya dönüşüm

--------------------------------------------------------------------------------
19. Ticket (Entity)
--------------------------------------------------------------------------------
AÇIKLAMA: Bilet veritabanı entity'si

ALANLAR:
  - id: Bilet ID'si (UUID)
  - eventId: Etkinlik ID'si
  - venueId: Mekan ID'si
  - userId: Kullanıcı ID'si
  - sectionId: Bölüm ID'si
  - seatLabel: Koltuk etiketi
  - priceCategoryId: Fiyat kategorisi ID'si
  - status: Bilet durumu (SOLD, USED, REFUNDED, CANCELLED)
  - purchasePrice: Satın alma fiyatı
  - currency: Para birimi
  - qrCode: QR kod (unique)
  - purchasedAt: Satın alma tarihi
  - usedAt: Kullanım tarihi
  - refundedAt: İade tarihi
  - version: Optimistic locking için versiyon
  - createdAt: Oluşturulma tarihi
  - updatedAt: Güncellenme tarihi

INDEX'LER:
  - idx_ticket_event_id: eventId üzerinde index
  - idx_ticket_user_id: userId üzerinde index

--------------------------------------------------------------------------------
20. TicketStock (Entity)
--------------------------------------------------------------------------------
AÇIKLAMA: Bilet stoku veritabanı entity'si

ALANLAR:
  - id: Stok ID'si
  - eventId: Etkinlik ID'si
  - venueId: Mekan ID'si
  - sectionId: Bölüm ID'si
  - priceCategoryId: Fiyat kategorisi ID'si
  - price: Fiyat
  - currency: Para birimi
  - totalCount: Toplam bilet sayısı
  - availableCount: Müsait bilet sayısı
  - soldCount: Satılan bilet sayısı
  - lockedCount: Kilitli bilet sayısı
  - createdAt: Oluşturulma tarihi
  - updatedAt: Güncellenme tarihi

UNIQUE CONSTRAINT:
  - event_id + price_category_id: Her event ve fiyat kategorisi için tek stok

METODLAR:
  - lockTickets(int count): 
      * availableCount'tan count kadar azaltır
      * lockedCount'a count kadar ekler
  
  - confirmSale(int count): 
      * lockedCount'tan count kadar azaltır
      * soldCount'a count kadar ekler
  
  - unlockTickets(int count): 
      * lockedCount'tan count kadar azaltır
      * availableCount'a count kadar ekler

--------------------------------------------------------------------------------
21. TicketHistory (Entity)
--------------------------------------------------------------------------------
AÇIKLAMA: Bilet geçmişi veritabanı entity'si

ALANLAR:
  - id: Geçmiş ID'si
  - ticketId: Bilet ID'si
  - previousStatus: Önceki durum
  - newStatus: Yeni durum
  - changedBy: Değiştiren kullanıcı
  - reason: Değişiklik nedeni
  - changedAt: Değişiklik tarihi


23. TicketRepository
--------------------------------------------------------------------------------
AÇIKLAMA: Ticket entity'si için JPA Repository

METODLAR:
  - findByEventId(String eventId): Event'e göre biletleri bulur
  - findByUserId(String userId): Kullanıcıya göre biletleri bulur

--------------------------------------------------------------------------------
24. TicketStockRepository
--------------------------------------------------------------------------------
AÇIKLAMA: TicketStock entity'si için JPA Repository

METODLAR:
  - findByEventId(String eventId): Event'e göre stokları bulur
  - findByEventIdAndPriceCategoryId(String eventId, String priceCategoryId): 
      * Event ve fiyat kategorisine göre stok bulur
  - findByIdWithLock(String id): 
      * Pessimistic lock ile stok getirir
  - findByEventIdAndPriceCategoryIdWithLock(String eventId, String priceCategoryId): 
      * Pessimistic lock ile stok getirir
  - findAvailableStocksByEventId(String eventId): 
      * Müsait stokları bulur
  - existsByEventIdAndPriceCategoryId(String eventId, String priceCategoryId): 
      * Stok var mı kontrol eder
  - findByLockedCountGreaterThan(int count): 
      * Kilitli stokları bulur

--------------------------------------------------------------------------------
25. TicketHistoryRepository
--------------------------------------------------------------------------------
AÇIKLAMA: TicketHistory entity'si için JPA Repository

METODLAR:
  - findByTicketIdOrderByChangedAtAsc(String ticketId): 
      * Bilet geçmişini tarih sırasına göre getirir

--------------------------------------------------------------------------------
26. TicketStatus (Enum)
--------------------------------------------------------------------------------
AÇIKLAMA: Bilet durumları

DEĞERLER:
  - SOLD: Satıldı
  - USED: Kullanıldı
  - REFUNDED: İade edildi
  - CANCELLED: İptal edildi

--------------------------------------------------------------------------------
27. RedisConfig
--------------------------------------------------------------------------------
AÇIKLAMA: Redis konfigürasyonu
İŞLEVİ: RedisTemplate bean'i oluşturur

METODLAR:
  - redisTemplate(RedisConnectionFactory connectionFactory): 
      * RedisTemplate bean'i oluşturur
      * Key serializer: StringRedisSerializer
      * Value serializer: GenericJackson2JsonRedisSerializer

--------------------------------------------------------------------------------
28. RedissonConfig
--------------------------------------------------------------------------------
AÇIKLAMA: Redisson konfigürasyonu
İŞLEVİ: RedissonClient bean'i oluşturur

METODLAR:
  - redissonClient(): 
      * RedissonClient bean'i oluşturur
      * Single server mode kullanır
      * Connection pool: 10
      * Connection minimum idle: 5
      * Timeout: 3 saniye
      * Retry attempts: 3

--------------------------------------------------------------------------------
29. LockAcquisitionException
--------------------------------------------------------------------------------
AÇIKLAMA: Lock alınamadığında fırlatılan exception

ALANLAR:
  - lockKey: Alınamayan lock'un key'i

METODLAR:
  - getLockKey(): Lock key'i döner

--------------------------------------------------------------------------------
30. OrderClient
--------------------------------------------------------------------------------
AÇIKLAMA: Order Service'e Feign Client ile çağrı yapan interface

METODLAR:
  - getOrderById(String orderId): Sipariş bilgisini getirir

RECORD'LAR:
  - OrderResponse: Sipariş yanıtı
  - OrderItemDto: Sipariş kalemi

================================================================================
